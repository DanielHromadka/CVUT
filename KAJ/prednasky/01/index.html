<!doctype html>
<html>
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width,user-scalable=0" />
		<title>Tvorba klientských aplikací v JavaScriptu</title>
	</head>
	<body>
		
<h1>Tvorba klientských aplikací v JavaScriptu</h1>

<section class="slide">
	<h2>Tvorba klientských aplikací v JavaScriptu</h2>
	<ul>
		<li>Webová interaktivní prezentace</li>
		<li>"?" zobrazí krátkou nápovědu</li>
		<li>Tisk jako obvykle</li>
		<li>Pro pokračování stiskněte mezerník</li>
	</ul>
</section>

<section class="slide">
	<h2>Obsah</h2>
	<ol>
		<li>O předmětu</li>
		<li>Kompatibilita napříč prohlížeči</li>
		<li>JavaScript pro středně pokročilé</li>
		<li>Vybrané partie DOM API</li>
	</ol>
</section>

<section class="slide">
	<h2>Co jsou JavaScriptové aplikace?</h2>
	<ul>
		<li>SPA &ndash; Single Page Application</li>
		<li><a href="http://www.mapy.cz">www.mapy.cz</a></li>
		<li><a href="http://www.gmail.com">www.gmail.com</a></li>
		<li><a href="http://epicport.com/en/dune2/">Dune 2 online</a></li>
		<li>tato stránka</li>
		<li>...a mnohé další</li>
	</ul>
</section>

<section class="slide">
	<h2>Představení předmětu</h2>
	<ul>
		<li>"Moderní" webové technologie na klientu</li>
		<li>HTML5, CSS3, JavaScript</li>
		<li><img src="img/ppk.jpg" height="50vh"/></li>
	</ul>
</section>

<section class="slide">
	<h2>Organizace</h2>
	<ul>
		<li>Klasifikovaný zápočet</li>
		<li>Semestrální práce</li>
		<li>Přednášky: RNDr. Ondřej Žára, Seznam.cz</li>
		<li>Cvičení: Bc. Zdeněk Vlach, Seznam.cz</li>
		<li>Cvičení: Bc. Petr Huřťák, Seznam.cz</li>
	</ul>
</section>

<section class="slide">
	<h2>Podklady a materiály</h2>
	<ul>
		<li><a href="https://developer.mozilla.org/">https://developer.mozilla.org/</a></li>
		<li><a href="http://caniuse.com/">http://caniuse.com/</a></li>
		<li>Google</li>
		<li><del>Stack Overflow</del></li>
		<li><a href="mailto:ondrej.zara@firma.seznam.cz">ondrej.zara@firma.seznam.cz</a></li>
	</ul>
</section>

<section class="slide">
	<h2>Kniha</h2>
	<p style="float:right; margin-top:-1em"><img style="height:80vh" src="http://storage.cpress.cz/images/large/891d6de967cf23e151fb48f888f3a433.jpg" /></p>
	<ul>
		<li>JavaScript &ndash; Programátorské techniky a webové technologie</li>
		<li>Vydává <a href="http://knihy.cpress.cz/javascript-d6.html">cpress.cz</a></li>
		<li>Určeno pro zájemce o JavaScript po absolvování základního kurzu</li>
		<li>Povětšinou jen JS, méně DOM rozhraní</li>
	</ul>
</section>

<section class="slide">
	<h2>Sylabus předmětu</h2>
	<p>
		<img src="img/sylabus.png" />
	</p>
</section>

<section class="slide">
	<h2>Web předmětu</h2>
	<ul>
		<li>Stránky předmětu na <a href="http://cvut.seznam.cz/">cvut.seznam.cz</a></li>
		<li>(Nové) pořadí témat: JS, síť, CSS, multimédia</li>
	</ul>
</section>

<section class="slide">
	<h2>Standard HTML5</h2>
	<p><a href="https://html.spec.whatwg.org/">https://html.spec.whatwg.org/</a></p>
	<ul>
		<li>
			<img src="img/w3c.png" alt="w3c logo" /> + <img src="img/whatwg.png" alt="whatwg logo" />
			(<strong>W</strong>eb 
			<strong>H</strong>ypertext 
			<strong>A</strong>pplication 
			<strong>T</strong>echnology 
			<strong>W</strong>orking 
			<strong>G</strong>roup)
		</li>
		<li>Mnoho rozdílných požadavků na standard:
			<ul>
				<li>Zpětná kompatibilita</li>
				<li>Zpracování chyb</li>
				<li>Jednoduchost použití</li>
				<li>Podpora pro skriptování</li>
			</ul>
		</li>
	</ul>
</section>

<section class="slide">
	<h2>Standardizační proces</h2>
	<img alt="Ian Hickson" src="img/ih.jpg" style="float:right" />
	<ul>
		<li>Editor Ian Hickson</li>
		<li>Aktuálně <del><em>Working Draft</em></del> <em>Recommendation</em></li>
		<li><em>Living standard</em></li>
		<li>téměř 9MB textu, 85k řádek</li>
		<li>Vývoj pomocí mailinglistu <a href="mailto:whatwg@whatwg.org">whatwg@whatwg.org</a></li>
		<li><em>Dozorčí rada</em> (WHATWG members)</li>
		<li>2004 &ndash; <del>2022</del> 2014</li>
	</ul>
</section>

<section class="slide">
	<h2>Webové prohlížeče</h2>
	<table>
		<thead>
			<tr>
				<td>Jméno</td><td>Verze</td><td>Renderer</td><td>JavaScript</td><td>Poznámka</td>
			</tr>
		</thead>
		<tbody>
			<tr>
				<td>Mozilla Firefox</td><td>51</td><td>Gecko</td><td><em>Spider</em>Monkey</td><td></td>
			</tr>
			<tr>
				<td>Google Chrome</td><td>56</td><td>Blink/WebKit</td><td>V8</td><td></td>
			</tr>
			<tr>
				<td>Apple Safari</td><td>10</td><td>WebKit</td><td>JSC</td><td>Existovala verze pro Windows</td>
			</tr>
			<tr>
				<td>Microsoft Internet Explorer</td><td>11</td><td>Trident</td><td>Chakra</td><td>Zajímavý až od verze 9</td>
			</tr>
			<tr>
				<td>Microsoft Edge</td><td>14</td><td>EdgeHTML</td><td>Chakra</td><td></td>
			</tr>
			<tr>
				<td>Opera</td><td>12/42</td><td>Presto/Blink</td><td>Carakan/V8</td><td></td>
			</tr>
		</tbody>
	</table>
</section>

<section class="slide">
	<h2>Webové prohlížeče: mobilní</h2>
	<ul>
		<li>Apple Mobile Safari (iOS)</li>
		<li>Android Browser (Android)</li>
		<li>Opera Mobile (Android, Symbian, Windows Mobile)</li>
		<li>Firefox for Android (Android)</li>
		<li>Chrome for Android (Android, trošičku iOS)</li>
		<li>Internet Explorer Mobile (Windows Mobile)</li>
	</ul>
</section>

<section class="slide">
	<h2>Webové prohlížeče: zpětná kompatibilita</h2>
	<ul>
		<li>Nutnost definovat podporovaný <em>feature set</em></li>
		<li>Oříznout starý prohlížeč znamená připravit se o uživatele</li>
		<li>Oříznout starý prohlížeč znamená motivovat k upgrade</li>
		<li>Časté aktualizace = snazší rozhodování</li>
	</ul>
</section>

<section class="slide">
	<h2>Webové prohlížeče: co kdo umí</h2>
	<ul>
		<li><a href="http://caniuse.com/">http://caniuse.com/</a>
			<ul>
				<li>Srovnávací tabulky</li>
				<li>Odkazy na testy</li>
			</ul>
		</li>
		<li><a href="https://developer.mozilla.org/cs/">Mozilla Developer Network</a>
			<ul>
				<li>Dokumentace</li>
				<li>Ukázky</li>
			</ul>
		</li>
		<li><a href="http://diveintohtml5.info/detect.html">Feature detection</a></li>
	</ul>
</section>

<section class="slide">
	<h2>Volitelné nabízení pokročilých technologií</h2>
	<ul>
		<li><strong>Progressive enhancement:</strong> nabízet základní funkcionalitu a volitelně přidávat</li>
		<li><strong>Graceful degradation:</strong> nabízet pokročilou funkcionalitu a v případě nouze couvnout</li>
	</ul>
</section>

<section class="slide">
	<h2>Polyfill</h2>
	<p><strong>Polyfill:</strong> JavaScriptový kód, který je schopen doplnit chybějící funkcionalitu při zachování kompatibilního API</p>
	<code class="block" data-syntax="js">if (!("onhashchange" in window)) {
	var oldHash = window.hash;
	setInterval(function() {
		if (window.hash == oldHash) return;
		oldHash = window.hash;
		if (window.onhashchange) window.onhashchange();
	}, 100);
}
</code>
</section>

<section class="slide">
	<h2>JavaScript pro středně pokročilé</h2>
	<ul>
		<li>Očekáváme znalost na úrovni základního kurzu (proměnná, funkce, <code>querySelector</code>, <code>addEventListener</code>)</li>
		<li>Pokročilé partie jazyka nás čekají příště</li>
		<li>Co zbývá: console API, iterace, IIFE</li>
	</ul>
</section>

<section class="slide">
	<h2>JS: console API</h2>
	<p>Vývojářské nástroje v každém prohlížeči (typicky <kbd>F12</kbd>)</p>
	<code class="block" data-syntax="js">console.log("...");
console.log("test", 123, ["pole", "hodnot"]);
console.log("Formatovani %s", "retezcu");

console.warn("warning");
console.error("crash");

console.time("test");
console.timeEnd("test");
</code>
	<p>Více info v <a href="https://developer.mozilla.org/en-US/docs/Web/API/Console">kompletní dokumentaci</a>.</p>
</section>

<section class="slide">
	<h2>JS: iterace struktur/objektů</h2>
	<code class="block" data-syntax="js">var data = {
	jmeno: "Eva",
	prijmeni: "Stará",
	vek: 74
};

for (var p in data) {
	console.log(p); // "jmeno", "prijmeni", "vek"
}
</code>
</section>

<section class="slide">
	<h2>JS: iterace polí</h2>
	<code class="block" data-syntax="js">var data = [15, "babicka", true];

// spravne
for (var i=0; i&lt;data.length; i++) {
	console.log(i); // 0, 1, 2
	console.log(data[i]); // 15, "babicka", true
}

// spatne &ndash; ale proc?
for (var p in data) {
	console.log(p); // 0, 1, 2
}
</code>
</section>

<section class="slide">
	<h2>JS: iterace polí</h2>
	<ul>
		<li>Cyklus <code>for-in</code> <em>občas</em> funguje</li>
		<li>Ale někdy vyústí v nečekané (nesprávné) výsledky</li>
		<li>Jde totiž o výčet klíčů &rArr; a těch může být jiný počet, než hodnot
			<ul>
				<li><em>sparse arrays:</em> <code>new Array(10)</code></li>
				<li>obohacená pole: <code>Array.prototype.X = ...</code></li>
			</ul>
		</li>
	</ul>
</section>

<section class="slide">
	<h2>JS: funkcionální iterace</h2>
	<ul>
		<li>Přístup známý z tzv. funkcionálního programování</li>
		<li>Aplikace uživatelem zadané funkce na (některé) položky pole</li>
		<li>V řadě případů kratší / expresivnější zápis</li>
		<li>Obliba použití roste s ES6 (třetí přednáška)</li>
		<li>Kompletní <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array#Iteration_methods">dokumentace na MDN</a></li>
	</ul>
</section>

<section class="slide">
	<h2>JS: funkcionální iterace I</h2>
	<code class="block" data-syntax="js">var data = [15, "babicka", true];

/* anonymni funkce */
data.forEach(function(item, index) {
	console.log(item); // 15, "babicka", true
});

/* pojmenovana funkce */
function log(item, index) {
	console.log(index);
}
data.forEach(log); // 0, 1, 2
</code>
</section>

<section class="slide">
	<h2>JS: funkcionální iterace II</h2>
	<code class="block" data-syntax="js">var data = [1, 2, 3];

function square(x) { return x*x; }
var data2 = data.map(square); // 1, 4, 9

function odd(x) { return x % 2; }
var data3 = data.filter(odd); // 1, 3
</code>
</section>

<section class="slide">
	<h2>JS: funkcionální iterace III</h2>
	<code class="block" data-syntax="js">var data = [1, 2, 3];

function odd(x) { return x % 2; }
data.every(odd);  // false
data.some(odd);   // true

function add(x, y) { return x+y; }
data.reduce(add); // 6
</code>
</section>

<section class="slide">
	<h2>JS: IIFE</h2>
	<ul>
		<li>Problém: strukturování (modularizace) JS kódu</li>
		<li>Historicky velká ostuda</li>
		<li>Solidní řešení až v ES6 (třetí přednáška)</li>
		<li>Více HTML značek &lt;script&gt; sdílí jmenný prostor</li>
		<li>Trik: immediately-invoked function expressions</li>
	</ul>
</section>

<section class="slide">
	<h2>JS: IIFE</h2>
	<code class="block" data-syntax="js">(function(){
	var document = "test"; // lokalni promenna
	alert(document);       // "test"
})();

alert(document);           // [object HTMLDocument]
</code>
</section>

<section class="slide">
	<h2>Vybrané partie DOM API</h2>
	<ul>
		<li>Funkce, konstanty a objekty pro manipulaci se stránkou</li>
		<li>Zpravidla dostupné pomocí (globální) proměnné <code>document</code></li>
		<li>John Resig: <a href="http://ejohn.org/blog/the-dom-is-a-mess/">The DOM is a mess</a></li>
	</ul>
</section>

<section class="slide">
	<h2>DOM: úpravy podstromu</h2>
	<code class="block" data-syntax="js">var p = document.querySelector("p");

/* HTML parser, pozor na XSS! */
p.innerHTML = "&lt;strong&gt;toto je test&lt;/strong&gt;";

/* jen text */
p.textContent = "&lt;strong&gt;toto je test&lt;/strong&gt;";
</code>
</section>

<section class="slide">
	<h2>DOM: tvorba nových prvků</h2>
	<code class="block" data-syntax="js">var p = document.querySelector("p");

var strong = document.createElement("strong");
p.appendChild(strong);

var text = document.createTextElement("toto je test");
p.appendChild(text);

var input = document.createElement("input");
input.type = "number";
input.id = "foo";
</code>
</section>

<section class="slide">
	<h2>DOM: práce s atributem <code>class</code></h2>
	<code class="block" data-syntax="js">var p = document.querySelector("p");

p.className = "class1";

p.classList.add("class2");
p.classList.remove("class3");
p.classList.contains("class2"); // true

p.classList.toggle("class4");
p.classList.toggle("class4", x > 15);
</code>
</section>

<section class="slide">
	<h2>Prostor pro otázky</h2>
</section>

<footer>
	<a href="http://twitter.com/0ndras">twitter.com/0ndras</a>
	<a href="mailto:ondrej.zara@firma.seznam.cz">ondrej.zara@firma.seznam.cz</a>
</footer>

<script src="../../jsslides/v3/slides/slides3.js"></script>
<script>
	Slides.modules.skin = "cvut";
	Slides.modules.numbering = false;
</script>

</body>
</html>
