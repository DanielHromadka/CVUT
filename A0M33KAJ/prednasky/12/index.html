<!doctype html>
<html>
	<head>
		<meta charset="utf-8" />
		<link rel="stylesheet" type="text/css" href="../../common/syntax/syntax.css" />
		<link rel="stylesheet" type="text/css" href="../../common/css/slides2.css" />
		<link rel="stylesheet" type="text/css" href="../../common/css/skin/cvut/skin.css" />
		<script src="../../common/js/oz.js" type="text/javascript"></script>
		<script src="../../common/js/slides2.js" type="text/javascript"></script>
		<script src="../../common/syntax/syntax.js" type="text/javascript"></script>
		<meta name="viewport" content="width=device-width,user-scalable=0" />
		<title>Bleeding edge</title>
	<body>
		
<h1>Bleeding edge</h1>

<section class="slide">
	<h2>Bleeding edge</h2>
	<ul>
		<li>Webová interaktivní prezentace</li>
		<li>"?" zobrazí krátkou nápovědu</li>
		<li>Tisk jako obvykle</li>
		<li>Pro pokračování stiskněte mezerník</li>
	</ul>
</section>

<section class="slide">
	<h2>Obsah</h2>
	<ol>
		<li>Web Workers</li>
		<li>WebGL</li>
		<li>WebRTC</li>
		<li>FlexBox</li>
		<li>Web Components</li>
	</ol>
</section>

<section class="slide">
	<h2>Web Workers</h2>
	<ul class="sections">
		<li>Snaha o zpřístupnění dalších vláken JavaScriptu</li>
		<li>JS vykonáván vždy jen v jednom vlákně!</li>
		<li>Možnost spuštění kódu v izolovaných boxech</li>
		<li>Problematika komunikace a předávání dat</li>
	</ul>
</section>

<section class="slide">
	<h2>Web Workers</h2>
<pre data-syntax="js">
var worker = new Worker("script.js");

/* obsah souboru je nyní vykonáván v odděleném vlákně */

worker.terminate();
</pre>
</section>

<section class="slide">
	<h2>Web Workers: komunikace s workerem</h2>
<pre data-syntax="js">
var worker = new Worker("script.js");

worker.postMessage({nejaka:"data"});

worker.onmessage = function(e) {
	alert(e.data);
}
</pre>
</section>

<section class="slide">
	<h2>Web Workers: komunikace z workeru</h2>
<pre data-syntax="js">
onmessage = function(e) {
	/* přišla data zvenčí */

	postMessage(/* ... */); /* posílám data ven */
}
</pre>
</section>

<section class="slide">
	<h2>Web Workers: izolace</h2>
	<ul class="sections">
		<li>Žádné window, žádný document</li>
		<li>importScripts, XMLHttpRequest, Worker</li>
		<li>setTimeout, setInterval</li>
		<li>To je vše!</li>
	</ul>
</section>

<section class="slide">
	<h2>Web Workers: závěr</h2>
	<ul class="sections">
		<li>Výpočet ve workeru může trvat libovolně dlouho</li>
		<li>Data jsou při předávání klonována (netřeba řešit synchronizaci)</li>
		<li>Vhodné tam, kde jsou třeba náročné výpočty</li>
		<li>Ideálně málo vstupních i výstupních dat</li>
		<li><a href="https://developer.mozilla.org/en-US/demos/devderby#tab-submissions">Ukázky</a></li>
	</ul>
</section>

<section class="slide">
	<h2>WebGL: koncepty</h2>
	<ul class="sections">
		<li><code data-syntax="js">canvas.getContext("webgl") || canvas.getContext("experimental-webgl")</code></li>
		<li>Veliké API (<a href="http://www.nihilogic.dk/labs/webgl_cheat_sheet/WebGL_Cheat_Sheet.htm">zastaralý cheatsheet</a>)</li>
		<li>Nové datové typy (<em>typovaná pole</em>)</li>
		<li>Kompatibilní shadery (GLSL)</li>
	</ul>
</section>

<section class="slide">
	<h2>WebGL: obtíže</h2>
	<ul class="sections">
		<li>Nejistá podpora</li>
		<li>Práce s maticemi</li>
		<li>Silně ukecané (stejně jako OpenGL)</li>
		<li><a href="webgl.html">Ukázka</a></li>
	</ul>
</section>

<section class="slide">
	<h2>WebGL: závěr</h2>
	<ul class="sections">
		<li>Budoucnost grafiky na webu</li>
		<li>Použít knihovnu pro matice (<a href="http://glmatrix.net/">glMatrix</a>)</li>
		<li>Použít knihovnu pro WebGL (<a href="http://threejs.org/">three.js</a>)</li>
	</ul>
</section>

<section class="slide">
	<h2>WebRTC</h2>
	<ul class="sections">
		<li>RTC = Real Time Communications</li>
		<li>Technologie pro komunikaci mezi klienty (bez serveru)</li>
		<li>Primárně přenos zvuku a obrazu, sekundárně JS dat</li>
		<li>Obtížné navázání spojení (tzv. <em>signalling</em> &ndash; nutný server pro iniciální sestavení)</li>
	</ul>
</section>

<section class="slide">
	<h2>WebRTC: getUserMedia</h2>
	<ul class="sections">
		<li><code>navigator.getUserMedia()</code></li>
		<li>Nejlépe podporovaná komponenta WebRTC</li>
		<li>Přístup ke kameře a mikrofonu</li>
		<li>Prefixované varianty</li>
	</ul>
</section>

<section class="slide">
	<h2>WebRTC: getUserMedia</h2>
	<pre data-syntax="js">
var ok = function(stream) {
	var url = window.URL.createObjectURL(stream);
	video.src = url;
	video.play();
}

var error = function(e) {
	alert(e);
}

navigator.getUserMedia({audio:true, video:true}, ok, error);
</pre>
</section>

<section class="slide">
	<h2>CSS3 Flexible Box</h2>
	<ul class="sections">
		<li>Nový pozicovací algoritmus do CSS</li>
		<li>Pro polohování boxů vedle sebe / pod sebe</li>
		<li>Náhrada za (slabý) float</li>
	</ul>
</section>

<section class="slide">
	<h2>CSS3 Flexible Box: základ</h2>
<pre data-syntax="xml">
&lt;div id="parent"&gt;
	&lt;div id="child1"&gt;&lt;/div&gt;
	&lt;div id="child2"&gt;&lt;/div&gt;
	&lt;div id="child3"&gt;&lt;/div&gt;
&lt;/div&gt;
</pre>
<pre data-syntax="css">
#parent {
	display: flex;
	flex-direction: row;
	justify-content: space-between;
}
</pre>
</section>

<section class="slide">
	<h2>CSS3 Flexible Box: relativní rozměry boxů</h2>
	<ul class="sections">
		<li><code>flex-grow</code> je relativní <em>síla růstu</em></li>
		<li><code>flex-shrink</code> je relativní <em>síla zmenšení</em></li>
		<li><code>flex-base</code> je základní rozměr (výška/šířka)</li>
	</ul>
</section>

<section class="slide">
	<h2>CSS3 Flexible Box: další vlastnosti</h2>
	<ul class="sections">
		<li><code>align-items</code> a <code>align-self</code> pro zarovnání v kolmé ose (<em>cross axis</em>)</li>
		<li><code>order</code> pro změnu pořadí v prvků</li>
		<li><code>flex-wrap</code> pro povolení/zakázání zalamování</li>
		<li><a href="http://jsfiddle.net/ondras/tGK7p/">Ukázka</a></li>
	</ul>
</section>


<section class="slide">
	<h2>Prostor pro otázky</h2>
</section>

<footer>
	<a href="http://twitter.com/0ndras">twitter.com/0ndras</a>
	<a href="mailto:ondrej.zara@firma.seznam.cz">ondrej.zara@firma.seznam.cz</a>
</footer>

<script type="text/javascript">
	Syntax.all();
	new Presentation();
</script>

</body>
</html>
